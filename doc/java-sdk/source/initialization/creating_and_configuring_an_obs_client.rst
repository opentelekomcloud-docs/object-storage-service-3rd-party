:original_name: obs_21_0202.html

.. _obs_21_0202:

Creating and Configuring an OBS Client
======================================

Scenarios
---------

This section describes how to create and configure an OBS client. If you already have a client, skip this section and obtain the API details by referring to :ref:`API Overview <obs_21_0002>`.

Prerequisites
-------------

Ensure you have completed the following preparations:

#. Select a proper SDK version by referring to :ref:`Before You Start <obs_21_0101>`.
#. Prepare the service and development environments by referring to :ref:`Preparations <obs_21_0102>`.
#. Download and install the OBS SDK for Java by referring to :ref:`SDK Download and Installation <obs_21_0001>`.

Important Notes
---------------

-  Make sure to configure the client at the time you create it. After the client is created, you will not be able to configure it.
-  If you use a temporary AK/SK pair, you can call **ObsClient.refresh("yourAccessKey", "yourSecretKey", "yourSecurityToken")** to refresh to keep the pair valid, without the need to create a new ObsClient instance.
-  You are advised to create an ObsClient instance at the initialization and use it for the whole project. Creating multiple clients affects high-concurrency performance.
-  ObsClient is thread-safe and can be used in concurrency scenarios.
-  If a client is closed by calling **ObsClient.close**, it cannot be used again. To ensure the whole project uses only one client, you are advised not to proactively close the client.

Overview
--------

.. _obs_21_0202__fig1811454193012:

.. figure:: /_static/images/en-us_image_0000001809221937.png
   :alt: **Figure 1** Creating and configuring a client

   **Figure 1** Creating and configuring a client

You can select a client class, a method of obtaining access credentials, and other parameters by referring to :ref:`Figure 1 <obs_21_0202__fig1811454193012>`.

.. table:: **Table 1** Creating and configuring an OBS client

   +----------------------+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   | Category             | Option                                                         | Description                                                                                                                                                                                                                                                                                 | Sample Code                                                                     |
   +======================+================================================================+=============================================================================================================================================================================================================================================================================================+=================================================================================+
   | Client               | Client that does not transparently transmit access credentials | If you want to configure access credentials only once and use them for all API calls, use **ObsClient**.                                                                                                                                                                                    | :ref:`ObsClient <obs_21_0202__li17517354514>`                                   |
   +----------------------+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   |                      | Client that transparently transmits access credentials         | If you need to configure access credentials for each API call, use **SecretFlexibleObsClient**, which is inherited from **ObsClient**.                                                                                                                                                      | :ref:`SecretFlexibleObsClient <obs_21_0202__li4583124514>`                      |
   +----------------------+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   | Access credentials   | Passing access credentials as parameters                       | Create an ObsClient instance and pass access credentials as parameters.                                                                                                                                                                                                                     | -  :ref:`Passing Access Credentials as Parameters <obs_21_0202__li17517354514>` |
   |                      |                                                                |                                                                                                                                                                                                                                                                                             | -  :ref:`BasicObsCredentialsProvider <obs_21_0202__li15332171519>`              |
   +----------------------+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   |                      | Obtaining access credentials from environment variables        | Create an ObsClient instance and use **EnvironmentVariableObsCredentialsProvider** to obtain access credentials from environment variables.                                                                                                                                                 | :ref:`EnvironmentVariableObsCredentialsProvider <obs_21_0202__li11510319451>`   |
   +----------------------+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   |                      | Obtaining access credentials from an agency in ECS scenarios   | Create an ObsClient instance and use **EcsObsCredentialsProvider** to automatically obtain temporary access credentials from the ECS. The access credentials are periodically updated automatically.                                                                                        | :ref:`EcsObsCredentialsProvider <obs_21_0202__li12518317458>`                   |
   |                      |                                                                |                                                                                                                                                                                                                                                                                             |                                                                                 |
   |                      |                                                                | .. important::                                                                                                                                                                                                                                                                              |                                                                                 |
   |                      |                                                                |                                                                                                                                                                                                                                                                                             |                                                                                 |
   |                      |                                                                |    NOTICE:                                                                                                                                                                                                                                                                                  |                                                                                 |
   |                      |                                                                |                                                                                                                                                                                                                                                                                             |                                                                                 |
   |                      |                                                                |    #. To use **EcsObsCredentialsProvider**, ensure that the application runs on an ECS that has an IAM agency with OBS permissions.                                                                                                                                                         |                                                                                 |
   |                      |                                                                |    #. Ensure that the server and the environment where the application is deployed have the same UTC time, or temporary access keys may fail to be updated in a timely manner.                                                                                                              |                                                                                 |
   +----------------------+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   |                      | Using a chain to search for access credentials                 | You can use this method to search for access keys in a chain in a predefined sequence. The first pair of access keys obtained is used to create an ObsClient instance.                                                                                                                      | :ref:`OBSCredentialsProviderChain <obs_21_0202__li14515324519>`                 |
   |                      |                                                                |                                                                                                                                                                                                                                                                                             |                                                                                 |
   |                      |                                                                | By default, environment variables are checked first and then the ECS agencies are checked to obtain access credentials. You cannot customize the search method or sequence.                                                                                                                 |                                                                                 |
   +----------------------+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   | Other configurations | Configuring only the endpoint                                  | Other than access credentials, only the endpoint is configured.                                                                                                                                                                                                                             | :ref:`Configuring Only the Endpoint <obs_21_0202__li17517354514>`               |
   +----------------------+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   |                      | Configuring the endpoint and other parameters                  | In addition to the endpoint, you need to configure the HTTP proxy, Socket timeout, and other parameters. You can use the **ObsConfiguration** class to configure the ObsClient instance. For details about the supported parameters, see :ref:`Table 2 <obs_21_0202__table10831182114445>`. | :ref:`ObsConfiguration <obs_21_0202__li3518394513>`                             |
   +----------------------+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+

Code Examples
-------------

-  .. _obs_21_0202__li17517354514:

   **Using the client class that does not transparently transmit access credentials to directly configure access credentials and configuring the endpoint**

   -  Using permanent access keys (AKs/SKs)

      ::

         // Enter the endpoint of the region where the bucket is located.
         String endPoint = "https://your-endpoint";
         // Hard-coded or plaintext access keys (AK/SK) are risky. For security purposes, encrypt your access keys and store them in the configuration file or environment variables. In this example, access keys are stored in the environment variables for identity authentication. Before running the code in this example, configure environment variables ACCESS_KEY_ID and SECRET_ACCESS_KEY_ID.
         // Obtain an AK/SK pair on the management console.
         String ak = System.getenv("ACCESS_KEY_ID");
         String sk = System.getenv("SECRET_ACCESS_KEY_ID");
         // Create an ObsClient instance.
         ObsClient obsClient = new ObsClient(ak, sk, endPoint);

         // Use the instance to access OBS.

         // Close the instance.
         obsClient.close();

   -  Using temporary access credentials (AKs/SKs and security tokens)

      ::

         // Enter the endpoint of the region where the bucket is located.

         String endPoint = "https://your-endpoint";
         // Hard-coded or plaintext access keys (AK/SK) are risky. For security purposes, encrypt your access keys and store them in the configuration file or environment variables. In this example, access keys are stored in the environment variables for identity authentication. Before running the code in this example, configure environment variables ACCESS_KEY_ID and SECRET_ACCESS_KEY_ID.
         // Obtain an AK/SK pair on the management console.
         String ak = System.getenv("ACCESS_KEY_ID");
         String sk = System.getenv("SECRET_ACCESS_KEY_ID");
         String securityToken = System.getenv("SECRET_TOKEN");
         // Create an ObsClient instance.
         ObsClient obsClient = new ObsClient(ak, sk, securityToken, endPoint);

         // Use the instance to access OBS.

         // Close the instance.
         obsClient.close();

   -  .. _obs_21_0202__li15332171519:

      BasicObsCredentialsProvider

      ::

         // Enter the endpoint of the region where the bucket is located.

         String endPoint = "https://your-endpoint";
         // Hard-coded or plaintext access keys (AK/SK) are risky. For security purposes, encrypt your access keys and store them in the configuration file or environment variables. In this example, access keys are stored in the environment variables for identity authentication. Before running the code in this example, configure environment variables ACCESS_KEY_ID and SECRET_ACCESS_KEY_ID.
         // Obtain an AK/SK pair on the management console.
         String ak = System.getenv("ACCESS_KEY_ID");
         String sk = System.getenv("SECRET_ACCESS_KEY_ID");
         // Create an ObsClient instance.
         ObsClient obsClient = new ObsClient(new BasicObsCredentialsProvider(ak, sk), endPoint);

         // Use the instance to access OBS.

         // Close the instance.
         obsClient.close();

-  .. _obs_21_0202__li4583124514:

   **Using the SecretFlexibleObsClient client class that transparently transmits access credentials**

   ::

      // Enter the endpoint of the region where the bucket is located.

      String endPoint = "https://your-endpoint";
      // Create an instance of the ObsConfiguration class.
      ObsConfiguration config = new ObsConfiguration();
      config.setEndPoint(endPoint);

      // Create an instance of SecretFlexibleObsClient.
      SecretFlexibleObsClient obsClient = new SecretFlexibleObsClient(config);
      // Use the instance of SecretFlexibleObsClient to access OBS.
      // Hard-coded or plaintext access keys (AK/SK) are risky. For security purposes, encrypt your access keys and store them in the configuration file or environment variables. In this example, access keys are stored in the environment variables for identity authentication. Before running the code in this example, configure environment variables ACCESS_KEY_ID and SECRET_ACCESS_KEY_ID.
      // Obtain an AK/SK pair on the management console.
      String ak1 = System.getenv("ACCESS_KEY_ID");
      String sk1 = System.getenv("SECRET_ACCESS_KEY_ID");
      obsClient.listBuckets(ak1, sk1);

      String ak2 = System.getenv("ACCESS_KEY_ID");
      String sk2 = System.getenv("SECRET_ACCESS_KEY_ID");
      obsClient.listBuckets(ak2, sk2);

      // Close the instance.
      obsClient.close();

-  .. _obs_21_0202__li11510319451:

   **Using EnvironmentVariableObsCredentialsProvider to obtain access credentials from environment variables**

   In this method, you need to define **OBS_ACCESS_KEY_ID** and **OBS_SECRET_ACCESS_KEY** in the environment variables to represent the permanent AK and SK respectively.

   ::

      // Enter the endpoint of the region where the bucket is located.

      String endPoint = "https://your-endpoint";
      // Create an ObsClient instance.
      ObsClient obsClient = new ObsClient(new EnvironmentVariableObsCredentialsProvider(), endPoint);

      // Use the instance to access OBS.

      // Close the instance.
      obsClient.close();

-  .. _obs_21_0202__li12518317458:

   **Using EcsObsCredentialsProvider to obtain access credentials from an agency in the ECS scenarios**

   ::

      // Enter the endpoint of the region where the bucket is located.

      String endPoint = "https://your-endpoint";
      // Create an ObsClient instance.
      ObsClient obsClient = new ObsClient(new EcsObsCredentialsProvider(), endPoint);

      // Use the instance to access OBS.

      // Close the instance.
      obsClient.close();

-  .. _obs_21_0202__li14515324519:

   **Using OBSCredentialsProviderChain to obtain access credentials from a chain**

   ::

      // Enter the endpoint of the region where the bucket is located.

      String endPoint = "https://your-endpoint";
      // Create an ObsClient instance.
      ObsClient obsClient = new ObsClient(new OBSCredentialsProviderChain(), endPoint);

      // Use the instance to access OBS.

      // Close the instance.
      obsClient.close();

-  .. _obs_21_0202__li3518394513:

   **Using ObsConfiguration to configure parameters for the client**

   -  **KeyManagerFactory**: By configuring **KeyManagerFactory**, you can save a certificate on your local PC and check whether the certificate returned by the server is correct.

      ::

         // Enter the endpoint of the region where the bucket is located.

         String endPoint = "https://your-endpoint";
         // Hard-coded or plaintext access keys (AK/SK) are risky. For security purposes, encrypt your access keys and store them in the configuration file or environment variables. In this example, access keys are stored in the environment variables for identity authentication. Before running the code in this example, configure environment variables ACCESS_KEY_ID and SECRET_ACCESS_KEY_ID.
         // Obtain an AK/SK pair on the management console.
         String ak = System.getenv("ACCESS_KEY_ID");
         String sk = System.getenv("SECRET_ACCESS_KEY_ID");

         String jksPassword = "you-jks-password";
         String jksPath = "/path/to/your/keystore/file";
         KeyStore ks = KeyStore.getInstance("JKS");
         char[] passArray = jksPassword.toCharArray();
         FileInputStream inputStream = new FileInputStream(jksPath);
         ks.load(inputStream, passArray);
         KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
         kmf.init(ks, passArray);

         String trustJKSPassword = "you-trustJKS-password";
         String trustJKSPath = "/path/to/your/trustKeyStore/file";
         KeyStore trustKeyStore = KeyStore.getInstance("JKS");
         char[] trustPassArray = trustJKSPassword.toCharArray();
         FileInputStream trustInputStream = new FileInputStream(trustJKSPath);
         trustKeyStore.load(trustInputStream, trustPassArray);
         TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
         tmf.init(trustKeyStore);

         ObsConfiguration config = new ObsConfiguration();
         config.setEndPoint(endPoint);
         config.setKeyManagerFactory(kmf);
         config.setTrustManagerFactory(tmf);

         ObsClient obsClient = new ObsClient(ak, sk, config);

      .. note::

         The local certificate must be stored as a .jks file. You can run the following command to call the Java keytool to convert a .cer certificate into a .jks one:

         .. code-block:: text

            keytool -import -file your-cer-file.cer -keystore your-keystore-file.jks

   -  HTTP proxy: After the HTTP proxy is configured, the SDK uses the proxy to access the server.

      ::

         // Enter the endpoint of the region where the bucket is located.

         String endPoint = "https://your-endpoint";
         // Hard-coded or plaintext access keys (AK/SK) are risky. For security purposes, encrypt your access keys and store them in the configuration file or environment variables. In this example, access keys are stored in the environment variables for identity authentication. Before running the code in this example, configure environment variables ACCESS_KEY_ID and SECRET_ACCESS_KEY_ID.
         // Obtain an AK/SK pair on the management console.
         String ak = System.getenv("ACCESS_KEY_ID");
         String sk = System.getenv("SECRET_ACCESS_KEY_ID");

         // The URL cannot contain the protocol header http:// or https://.
         String proxyUrl = "proxy.com";
         int proxyPort = 8080;
         String proxyUser = "userName";
         String proxyPassword = "password";
         ObsConfiguration config = new ObsConfiguration();
         config.setEndPoint(endPoint);
         config.setHttpProxy(proxyUrl, proxyPort, proxyUser, proxyPassword);
         ObsClient obsClient = new ObsClient(ak, sk,config);

Configuring a User-Defined Domain Name to Access OBS
----------------------------------------------------

.. code-block::

   // Specify the user-defined domain name that has been configured on the console.
   String endPoint = "http://your-domain";
   // Hard-coded or plaintext access keys (AK/SK) are risky. For security purposes, encrypt your access keys and store them in the configuration file or environment variables. In this example, access keys are stored in the environment variables for identity authentication. Before running the code in this example, configure environment variables ACCESS_KEY_ID and SECRET_ACCESS_KEY_ID.
   // Obtain an AK/SK pair on the management console.String ak = System.getenv("ACCESS_KEY_ID");
   String sk = System.getenv("SECRET_ACCESS_KEY_ID");

   // Create an instance of the ObsConfiguration class.
   ObsConfiguration config = new ObsConfiguration();
   config.setEndPoint(endPoint);
   config.setCname(true);

   // Create an ObsClient instance.
   ObsClient obsClient = new ObsClient(ak, sk, config);

   // Create an instance of ObsClient using Provider.
   // ObsClient obsClient = new ObsClient(new EnvironmentVariableObsCredentialsProvider(), config);
   // ObsClient obsClient = new ObsClient(new EcsObsCredentialsProvider(), config);

   // Use the instance to access OBS.

   // Close the instance.
   obsClient.close();

ObsConfiguration Parameters
---------------------------

.. note::

   -  If the network bandwidth is sufficient, you can tune the **socketWriteBufferSize**, **sockeReadBufferSize**, **readBufferSize**, and **writeBufferSize** parameters to improve upload and download performance.
   -  If the network condition is poor, you are advised to increase the values of **connectionTimeout** and **socketTimeout**.

.. _obs_21_0202__table10831182114445:

.. table:: **Table 2** ObsConfiguration parameters

   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | Parameter                    | Description                                                                                                                                                                                                                                                                                                                                               | Method                                           | Recommended Value                             |
   +==============================+===========================================================================================================================================================================================================================================================================================================================================================+==================================================+===============================================+
   | connectionTimeout            | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setConnectionTimeout            | [10000, 60000]                                |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | The amount of time to wait when initially establishing an HTTP/HTTPS connection before giving up and timing out.                                                                                                                                                                                                                                          |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **60000**, in milliseconds.                                                                                                                                                                                                                                                                                                                               |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | socketTimeout                | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setSocketTimeout                | [10000, 60000]                                |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | The amount of time to wait for data to be transferred by the socket layer before the transfer times out.                                                                                                                                                                                                                                                  |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **60000**, in milliseconds.                                                                                                                                                                                                                                                                                                                               |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | idleConnectionTime           | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setIdleConnectionTime           | [0, 30000]                                    |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | If the idle time of a connection exceeds the value of this parameter, the connection is closed. To ensure your services run smoothly, you are advised to set this parameter to a value less than or equal to **30000** ms.                                                                                                                                |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **30000**, in ms.                                                                                                                                                                                                                                                                                                                                         |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | maxIdleConnections           | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setMaxIdleConnections           | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | The allowed maximum number of pooled idle connections.                                                                                                                                                                                                                                                                                                    |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **1000**                                                                                                                                                                                                                                                                                                                                                  |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | maxConnections               | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setMaxConnections               | Default                                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | The allowed maximum number of concurrent HTTP requests.                                                                                                                                                                                                                                                                                                   |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **1000**                                                                                                                                                                                                                                                                                                                                                  |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | maxErrorRetry                | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setMaxErrorRetry                | [0, 5]                                        |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | The allowed maximum number of retry attempts for failed requests (for example, request exceptions, or **500** or **503** error responses from the server).                                                                                                                                                                                                |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Restrictions:**                                                                                                                                                                                                                                                                                                                                         |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | This parameter is invalid if an exception occurs when the data stream of the object to upload or download is being processed.                                                                                                                                                                                                                             |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **3**                                                                                                                                                                                                                                                                                                                                                     |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | endPoint                     | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setEndPoint                     | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | OBS server address. It consists of a protocol type, domain name, and port number, for example, **https://**\ *your-endpoint*\ **:443**. For security purposes, you are advised to use HTTPS.                                                                                                                                                              |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Restrictions:**                                                                                                                                                                                                                                                                                                                                         |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | For DNS resolution and OBS reliability reasons, **you are not allowed to specify an IP address for this parameter** because this will lead to a path-style request being used, which is prohibited by OBS. You need to use a domain name to specify this parameter.                                                                                       |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | None                                                                                                                                                                                                                                                                                                                                                      |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | httpProxy                    | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setHttpProxy                    | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | HTTP proxy configuration.                                                                                                                                                                                                                                                                                                                                 |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | This parameter is left blank by default.                                                                                                                                                                                                                                                                                                                  |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | validateCertificate          | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setValidateCertificate          | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Whether to verify the server certificate.                                                                                                                                                                                                                                                                                                                 |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Value range**:                                                                                                                                                                                                                                                                                                                                          |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | -  **true**: The server certificate is verified.                                                                                                                                                                                                                                                                                                          |                                                  |                                               |
   |                              | -  **false**: The server certificate is not verified.                                                                                                                                                                                                                                                                                                     |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **false**                                                                                                                                                                                                                                                                                                                                                 |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | verifyResponseContentType    | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setVerifyResponseContentType    | Default                                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Whether to verify the **ContentType** header in the response.                                                                                                                                                                                                                                                                                             |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Value range**:                                                                                                                                                                                                                                                                                                                                          |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | -  **true**: The **ContentType** header is verified.                                                                                                                                                                                                                                                                                                      |                                                  |                                               |
   |                              | -  **false**: The **ContentType** header is not verified.                                                                                                                                                                                                                                                                                                 |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | true                                                                                                                                                                                                                                                                                                                                                      |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | readBufferSize               | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setReadBufferSize               | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Size of the buffer used for downloading objects from socket streams. The value **-1** indicates that no buffer is configured.                                                                                                                                                                                                                             |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **-1**, in bytes.                                                                                                                                                                                                                                                                                                                                         |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | writeBufferSize              | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setWriteBufferSize              | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Size of the buffer used for uploading objects to socket streams. The value **-1** indicates that no buffer is configured.                                                                                                                                                                                                                                 |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **-1**, in bytes.                                                                                                                                                                                                                                                                                                                                         |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | socketWriteBufferSize        | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setSocketWriteBufferSize        | Default                                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Size of the sending buffer of the socket. This parameter corresponds to **java.net.SocketOptions.SO_SNDBUF**.                                                                                                                                                                                                                                             |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **-1**, in bytes, indicating that this parameter is not configured.                                                                                                                                                                                                                                                                                       |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | socketReadBufferSize         | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setSocketReadBufferSize         | Default                                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Size of the receiving buffer of the socket. This parameter corresponds to **java.net.SocketOptions.SO_RCVBUF**.                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **-1**, in bytes, indicating that this parameter is not configured.                                                                                                                                                                                                                                                                                       |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | keyManagerFactory            | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setKeyManagerFactory            | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Factory used for generating **javax.net.ssl.KeyManager**.                                                                                                                                                                                                                                                                                                 |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | This parameter is left blank by default.                                                                                                                                                                                                                                                                                                                  |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | trustManagerFactory          | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setTrustManagerFactory          | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Factory used for generating **javax.net.ssl.TrustManager**.                                                                                                                                                                                                                                                                                               |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | This parameter is left blank by default.                                                                                                                                                                                                                                                                                                                  |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | isStrictHostnameVerification | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setIsStrictHostnameVerification | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Whether to strictly verify the server-side host name. If this parameter is set to **true**, **javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier** needs to be used to create an object as an implementation of **javax.net.ssl.HostnameVerifier** to verify the host name.                                                                      |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Value range**:                                                                                                                                                                                                                                                                                                                                          |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | -  **true**: The host name of the server is strictly verified.                                                                                                                                                                                                                                                                                            |                                                  |                                               |
   |                              | -  **false**: The host name of the server is not strictly verified.                                                                                                                                                                                                                                                                                       |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **false**                                                                                                                                                                                                                                                                                                                                                 |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | keepAlive                    | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setKeepAlive                    | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Whether to use persistent connections to access OBS.                                                                                                                                                                                                                                                                                                      |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Value range**:                                                                                                                                                                                                                                                                                                                                          |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | -  **true**: Persistent connections are used.                                                                                                                                                                                                                                                                                                             |                                                  |                                               |
   |                              | -  **false**: Persistent connections are not used.                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | true                                                                                                                                                                                                                                                                                                                                                      |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | cname                        | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setCname                        | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Whether to use a user-defined domain name to access OBS.                                                                                                                                                                                                                                                                                                  |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Value range**:                                                                                                                                                                                                                                                                                                                                          |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | -  **true**: A user-defined domain name is used.                                                                                                                                                                                                                                                                                                          |                                                  |                                               |
   |                              | -  **false**: A user-defined domain name is not used.                                                                                                                                                                                                                                                                                                     |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **false**                                                                                                                                                                                                                                                                                                                                                 |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | sslProvider                  | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setSslProvider                  | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | Provider of the SSLContext.                                                                                                                                                                                                                                                                                                                               |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | The SSLContext provided by the JDK is used.                                                                                                                                                                                                                                                                                                               |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | httpProtocolType             | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setHttpProtocolType             | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | HTTP protocol type used for accessing the OBS server.                                                                                                                                                                                                                                                                                                     |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | HTTP1.1                                                                                                                                                                                                                                                                                                                                                   |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | .. note::                                                                                                                                                                                                                                                                                                                                                 |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              |    If the value of **endPoint** does not contain any protocol, HTTPS is used by default.                                                                                                                                                                                                                                                                  |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | httpDispatcher               | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setHttpDispatcher               | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | User-defined dispatcher.                                                                                                                                                                                                                                                                                                                                  |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | None                                                                                                                                                                                                                                                                                                                                                      |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
   | secureRandom                 | **Explanation:**                                                                                                                                                                                                                                                                                                                                          | ObsConfiguration.setSecureRandom                 | Configure this parameter based on your needs. |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | User-defined random number generator.                                                                                                                                                                                                                                                                                                                     |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **Default value**:                                                                                                                                                                                                                                                                                                                                        |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | **new SecureRandom()**                                                                                                                                                                                                                                                                                                                                    |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              | .. note::                                                                                                                                                                                                                                                                                                                                                 |                                                  |                                               |
   |                              |                                                                                                                                                                                                                                                                                                                                                           |                                                  |                                               |
   |                              |    -  On some platforms, the implementation of **new SecureRandom()** may be insecure. For security purposes, you are advised to use **ObsConfiguration.setSecureRandom()** to get a **SecureRandom** instance from a true random seed.                                                                                                                   |                                                  |                                               |
   |                              |    -  If an operating system does not have sufficient entropy to generate random numbers (for example, when the system is just started), **SecureRandom** that generates true random numbers may be blocked until there is enough entropy available. To address this issue, you can take measures (such as using haveged in Linux) to supplement entropy. |                                                  |                                               |
   +------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------+-----------------------------------------------+
